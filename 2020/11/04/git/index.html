<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"swordhell.github.io","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"gitalk","storage":true,"lazyload":true,"nav":{"gitalk":{"order":-2}},"activeClass":"gitalk"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="学习git的笔记，将记录一下git如何使用。之前常用svn，现在转过来的时候，有些东西需要熟悉。将会持续更新此文档。">
<meta property="og:type" content="article">
<meta property="og:title" content="git">
<meta property="og:url" content="https://swordhell.github.io/2020/11/04/git/index.html">
<meta property="og:site_name" content="Abel&#39;Blog">
<meta property="og:description" content="学习git的笔记，将记录一下git如何使用。之前常用svn，现在转过来的时候，有些东西需要熟悉。将会持续更新此文档。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s1.ax1x.com/2020/11/11/Bj6XOe.jpg">
<meta property="og:image" content="https://swordhell.github.io/2020/11/04/git/git-vscode-setting-rebase-whensync.png">
<meta property="og:image" content="https://swordhell.github.io/2020/11/04/git/git-vscode-setting-auto-stash.png">
<meta property="article:published_time" content="2020-11-03T16:00:00.000Z">
<meta property="article:modified_time" content="2025-05-10T02:06:54.178Z">
<meta property="article:author" content="Abel Sean">
<meta property="article:tag" content="git">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s1.ax1x.com/2020/11/11/Bj6XOe.jpg">

<link rel="canonical" href="https://swordhell.github.io/2020/11/04/git/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>git | Abel'Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Abel'Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">我干了什么?究竟拿了时间换了什么?</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://swordhell.github.io/2020/11/04/git/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Abel Sean">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Abel'Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          git
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-11-04 00:00:00" itemprop="dateCreated datePublished" datetime="2020-11-04T00:00:00+08:00">2020-11-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-05-10 10:06:54" itemprop="dateModified" datetime="2025-05-10T10:06:54+08:00">2025-05-10</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/1-%E5%9F%BA%E7%A1%80/" itemprop="url" rel="index"><span itemprop="name">1-基础</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/1-%E5%9F%BA%E7%A1%80/%E6%BA%90%E7%A0%81%E5%B7%A5%E5%85%B7%E7%AE%A1%E7%90%86/" itemprop="url" rel="index"><span itemprop="name">源码工具管理</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>学习git的笔记，将记录一下git如何使用。之前常用svn，现在转过来的时候，有些东西需要熟悉。将会持续更新此文档。</p>
<span id="more"></span>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><h3 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h3><p>Ubuntu</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ apt-get install libcurl4-gnutls-dev libexpat1-dev gettext \</span><br><span class="line">  libz-dev libssl-dev</span><br><span class="line"></span><br><span class="line">$ apt-get install git</span><br><span class="line"></span><br><span class="line">$ git --version</span><br><span class="line">git version 1.8.1.2</span><br></pre></td></tr></table></figure>
<p>Centos/RedHat</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ yum install curl-devel expat-devel gettext-devel \</span><br><span class="line">  openssl-devel zlib-devel</span><br><span class="line"></span><br><span class="line">$ yum -y install git-core</span><br><span class="line"></span><br><span class="line">$ git --version</span><br><span class="line">git version 1.7.1</span><br></pre></td></tr></table></figure>
<p>设置自己的用户名</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">&quot;Your Name&quot;</span></span><br><span class="line">git config --global user.email <span class="string">&quot;email@example.com&quot;</span></span><br><span class="line"><span class="comment"># 设置pull的模式：</span></span><br><span class="line">git config pull.rebase <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p>github里面邮箱地址和你设置的地址不匹配，将会存在非常多的问题。</p>
<p>Linux中记住密码的方式：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在Linux里面记住密码的文件，这个文件需要创建在本工程目录之下，而不是在系统根目录下。</span></span><br><span class="line"><span class="comment"># http(s)://&#123;你的用户名&#125;:&#123;你的密码&#125;@你的服务器地址</span></span><br><span class="line"><span class="comment"># git config --global credential.helper store</span></span><br><span class="line">.git-credentials</span><br><span class="line"></span><br><span class="line">git config --global credential.helper <span class="string">&#x27;cache --timeout=3600&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># mac机器上保存密码</span></span><br><span class="line">git config --global credential.helper osxkeychain</span><br></pre></td></tr></table></figure>
<h2 id="工作流程"><a href="#工作流程" class="headerlink" title="工作流程"></a>工作流程</h2><h3 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">名称</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">远程 Git 资源</td>
<td style="text-align:left">共享git版本的一个库</td>
</tr>
<tr>
<td style="text-align:left">工作区</td>
<td style="text-align:left">本地编辑</td>
</tr>
<tr>
<td style="text-align:left">暂存区</td>
<td style="text-align:left">本地修改了之后，可以将修改提交到本地</td>
</tr>
<tr>
<td style="text-align:left">推送</td>
<td style="text-align:left">将本地的内容推送到远程Git资源服</td>
</tr>
</tbody>
</table>
</div>
<p><a target="_blank" rel="noopener" href="https://imgchr.com/i/Bj6XOe"><img src="https://s1.ax1x.com/2020/11/11/Bj6XOe.jpg" alt="Bj6XOe.jpg"></a></p>
<h3 id="工作区操作"><a href="#工作区操作" class="headerlink" title="工作区操作"></a>工作区操作</h3><blockquote>
<p>查询状态</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br><span class="line"><span class="comment"># </span></span><br><span class="line">git status --porcelain</span><br><span class="line"><span class="comment"># git status --porcelain 是一个用于查看 Git 工作目录和索引的命令。它会以可读性强的方式显示工作目录和索引之间的差异，类似于 git status 命令，但输出格式更简洁。这种输出格式称为“瓷器”模式，因为它只显示有差异的文件，而不显示其他信息。</span></span><br><span class="line"><span class="comment"># 具体而言，git status --porcelain 命令会显示以下信息：</span></span><br><span class="line"><span class="comment"># 文件状态（文件名和状态代码）</span></span><br><span class="line"><span class="comment"># 文件修改的统计信息（新增、修改、删除的行数等）</span></span><br><span class="line"><span class="comment"># 文件在索引和HEAD之间的差异</span></span><br><span class="line"><span class="comment"># 这种输出格式非常适合用于自动化脚本和命令行操作，因为它易于解析和处理。</span></span><br></pre></td></tr></table></figure>
<h3 id="远程操作"><a href="#远程操作" class="headerlink" title="远程操作"></a>远程操作</h3><h4 id="分支管理"><a href="#分支管理" class="headerlink" title="分支管理"></a>分支管理</h4><blockquote>
<p>列出分支</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">abel@xxxxxx:~/xxxx$ git branch -a</span><br><span class="line">* master</span><br><span class="line">  remotes/origin/HEAD -&gt; origin/master</span><br><span class="line">  remotes/origin/abel_learn</span><br><span class="line">  remotes/origin/develop_xcs</span><br><span class="line">  remotes/origin/master</span><br></pre></td></tr></table></figure>
<p>这个里面将会显示远程分支和本地分支；</p>
<blockquote>
<p>将远程的分支切换到本地分支</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b &lt;本地名称&gt; &lt;远程地址&gt;</span><br><span class="line">git checkout -b abel_learn origin/develop_xcs</span><br></pre></td></tr></table></figure>
<p>在操作的时候，需要将远程的分支，在本地做一次checkout</p>
<p>在本地切换分支，切换将直接使用checkout</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@test-qingzhou-01 cx_project]<span class="comment"># git checkout master</span></span><br><span class="line">Switched to branch <span class="string">&#x27;master&#x27;</span></span><br><span class="line">Your branch is behind <span class="string">&#x27;origin/master&#x27;</span> by 225 commits, and can be fast-forwarded.</span><br><span class="line">  (use <span class="string">&quot;git pull&quot;</span> to update your <span class="built_in">local</span> branch)</span><br><span class="line">[root@test-qingzhou-01 cx_project]<span class="comment"># git branch</span></span><br><span class="line">  develop_xcs</span><br><span class="line">* master</span><br><span class="line">[root@test-qingzhou-01 cx_project]<span class="comment"># git branch develop_xcs</span></span><br><span class="line">fatal: A branch named <span class="string">&#x27;develop_xcs&#x27;</span> already exists.</span><br></pre></td></tr></table></figure>
<blockquote>
<p>删除分支</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">git branch -d [branchname]</span><br><span class="line"><span class="comment"># 删除远程</span></span><br><span class="line">$ git push origin --delete develop_logic</span><br><span class="line">remote: Powered by GITEE.COM [GNK-6.3]</span><br><span class="line">To https://gitee.com/swordhell/octopus_svr.git</span><br><span class="line"> - [deleted]           develop_logic</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<p>合并分支</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git merge [otherbranch]</span><br></pre></td></tr></table></figure>
<blockquote>
<p>转移文件</p>
</blockquote>
<p>这个指令的好处是不会影响文件历史日志，如果直接删除并且增加那就比较麻烦了。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">mv</span> <span class="built_in">source</span> dst</span><br></pre></td></tr></table></figure>
<h4 id="切换编辑器"><a href="#切换编辑器" class="headerlink" title="切换编辑器"></a>切换编辑器</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git config --global core.editor vim</span><br><span class="line"><span class="built_in">export</span> VISUAL=vim</span><br><span class="line"><span class="built_in">export</span> EDITOR=<span class="string">&quot;<span class="variable">$VISUAL</span>&quot;</span></span><br></pre></td></tr></table></figure>
<h4 id="分支合并"><a href="#分支合并" class="headerlink" title="分支合并"></a>分支合并</h4><p>之前工作中使用svn来做分支管理。如果在trunk里面修改的bug需要合并到release分支的时候，需要使用merge来操作。</p>
<p>在git里面也有如此的概念，使用的是遴选（cherry pick）。在vscode里面使用git插件就能做这个操作了。有空可以研究一下具体如何通过命令行来出来这个事情。</p>
<p>使用命令行来使用；</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">PS</span> D:\work\trunk\xxxx&gt; git cherry<span class="literal">-pick</span> <span class="number">7</span>e1e57d</span><br><span class="line">[<span class="type">VerDemo</span> <span class="type">e610a68</span>] 【需求】 <span class="comment">#1367 服务器增加日志，检查登录无法加载角色的问题 防止出现“保留房间超时被释放”</span></span><br><span class="line"> Date: Tue Mar <span class="number">23</span> <span class="number">20</span>:<span class="number">01</span>:<span class="number">32</span> <span class="number">2021</span> +<span class="number">0800</span></span><br><span class="line"> <span class="number">1</span> file changed, <span class="number">1</span> insertion(+), <span class="number">1</span> deletion(-)</span><br><span class="line"><span class="built_in">PS</span> D:\work\trunk\xxxx&gt; git push</span><br><span class="line">Enumerating objects: <span class="number">11</span>, done.</span><br><span class="line">Counting objects: <span class="number">100</span>% (<span class="number">11</span>/<span class="number">11</span>), done.</span><br><span class="line">Delta compression <span class="keyword">using</span> up to 8 threads</span><br><span class="line">Compressing objects: <span class="number">100</span>% (<span class="number">6</span>/<span class="number">6</span>), done.</span><br><span class="line">Writing objects: <span class="number">100</span>% (<span class="number">6</span>/<span class="number">6</span>), <span class="number">619</span> bytes | <span class="number">619.00</span> KiB/s, done.</span><br><span class="line">Total <span class="number">6</span> (delta <span class="number">5</span>), reused <span class="number">0</span> (delta <span class="number">0</span>), pack<span class="literal">-reused</span> <span class="number">0</span></span><br><span class="line">remote: Powered by GITEE.COM [<span class="type">GNK</span>-<span class="number">5.0</span>]</span><br><span class="line">To https://gitee.com/xxxx/xxx.git</span><br><span class="line">   f9819ca..e610a68  VerDemo -&gt; VerDemo</span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2020/04/git-cherry-pick.html">git cherry-pick 教程</a></p>
<p>git rebase 和 git cherry pick 有些类似。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">fatal: You have not concluded your cherry-pick (CHERRY_PICK_HEAD exists).</span><br><span class="line">Please, commit your changes before you merge.</span><br><span class="line"><span class="comment"># 使用命令放弃 git cherry-pick 变更</span></span><br><span class="line">git cherry-pick --abort</span><br></pre></td></tr></table></figure>
<figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">would clobber existing tag</span><br></pre></td></tr></table></figure>
<p>本地的tag和远程的tag冲突。</p>
<p>I’m using git in VSCodium and each time I try to pull git is complaining.</p>
<p>Looking into the log I see</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt; git pull --tags origin master</span><br><span class="line">From https://github.com/MY/REPO</span><br><span class="line"> * branch            master     -&gt; FETCH_HEAD</span><br><span class="line"> ! [rejected]        latest     -&gt; latest  (would clobber existing tag)</span><br><span class="line">   9428765..935da94  master     -&gt; origin/master</span><br><span class="line"></span><br><span class="line">git fetch --tags -f</span><br></pre></td></tr></table></figure>
<h4 id="查看远程的url地址"><a href="#查看远程的url地址" class="headerlink" title="查看远程的url地址"></a>查看远程的url地址</h4><p><code>git config --get remote.origin.url</code></p>
<h2 id="git-修改远程的目录"><a href="#git-修改远程的目录" class="headerlink" title="git 修改远程的目录"></a>git 修改远程的目录</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看全部远程地址</span></span><br><span class="line">git remote -v</span><br><span class="line"><span class="comment"># 保存远程地址</span></span><br><span class="line">git remote set-url --add origin http://safjdklasjkflda</span><br><span class="line">git remote add g_remote http://safjdklasjkflda</span><br><span class="line">git push -u other_origin master</span><br><span class="line">git pull -u other_origin master</span><br><span class="line"></span><br><span class="line">git remote set-url origin http://abel@xxx.xxx.xxx.xxx/hp.git</span><br></pre></td></tr></table></figure>
<h2 id="git转换换行符（回车）"><a href="#git转换换行符（回车）" class="headerlink" title="git转换换行符（回车）"></a>git转换换行符（回车）</h2><p>git配置一共分为3个级别，可以通过这个命令来查看。</p>
<figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git config --system --list [优先级最低]</span><br><span class="line">git config --global --list [优先级次之]</span><br><span class="line">git config --local --list [优先级最高]</span><br></pre></td></tr></table></figure>
<p>这个概念类似于环境变量。</p>
<p>其中 core.autocrlf 是决定了文件的回车方式。</p>
<ul>
<li>true：提交的时候自动将CRLF转换成LF，签出时自动将LF转换成CRLF；（默认）</li>
<li>input：提交的时候CRLF转换成LF，签出时不转换；</li>
<li>false：将回车记录到库中</li>
</ul>
<p>可以将system的此项修改成input方式，如果使用vscode的时候，将默认的<code>选择行尾序列</code>LF，设置里面Eol里面将<code>默认行尾字符修改成\n</code>。</p>
<p>注解：</p>
<p>CRLF=<code>\r\n</code> carriage return line feed，回车换行，windows常用。</p>
<p>LF=<code>\n</code>；line feed，换行，Linux常用。</p>
<figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global core.autocrlf [true|input|false]</span><br></pre></td></tr></table></figure>
<p>pull 根据不同的配置，可等于 fetch + merge 或 fetch + rebase。具体了解可继续读下去。</p>
<h2 id="tags冲突"><a href="#tags冲突" class="headerlink" title="tags冲突"></a>tags冲突</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看远程tags</span></span><br><span class="line">git ls-remote -t</span><br><span class="line"><span class="comment"># 查看本地tags</span></span><br><span class="line">git tag -l</span><br><span class="line"><span class="comment"># 删除本地与远程不一致的tag</span></span><br><span class="line">git tag -d tag名字</span><br><span class="line"><span class="comment"># 重新拉取远程tag</span></span><br><span class="line">git fetch origin --prune-tags</span><br></pre></td></tr></table></figure>
<p>实例：</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">PS</span> D:\work\trunk\cx_project&gt; git <span class="built_in">ls</span><span class="literal">-remote</span> <span class="literal">-t</span></span><br><span class="line">From http://xxxxxxxxxxxxxxx.git</span><br><span class="line"><span class="number">0285</span>d7e51bb70b59f132831d8593bb09f1b2ae90        refs/tags/CETag</span><br><span class="line"><span class="number">22</span>bb6f654eab74d570007e2644b6874fc0e2d4fd        refs/tags/demoTag</span><br><span class="line"><span class="number">5428836</span>d1c8f9996987179630cba7f86e00f07df        refs/tags/demoTag^&#123;&#125;</span><br><span class="line"><span class="number">48880</span>c2a1b10d71c47c4b1e1fa95ebdf88217924        refs/tags/v0.<span class="number">0.1</span></span><br><span class="line"><span class="number">5428836</span>d1c8f9996987179630cba7f86e00f07df        refs/tags/v0.<span class="number">0.1</span>^&#123;&#125;</span><br><span class="line"><span class="number">7</span>de8e2d0af4841ec688ba2a1a35dcc84a91bbb9e        refs/tags/verCE</span><br><span class="line"><span class="built_in">PS</span> D:\work\trunk\cx_project&gt; git tag <span class="literal">-l</span></span><br><span class="line">CETag</span><br><span class="line">demoTag</span><br><span class="line">v0.<span class="number">0.1</span></span><br><span class="line">verCE</span><br><span class="line"><span class="built_in">PS</span> D:\work\trunk\cx_project&gt; git tag <span class="literal">-d</span> CETag</span><br><span class="line">Deleted tag <span class="string">&#x27;CETag&#x27;</span> (was <span class="number">805</span>af40b)</span><br><span class="line"><span class="built_in">PS</span> D:\work\trunk\cx_project&gt; git pull <span class="literal">--tags</span> origin develop</span><br><span class="line">From http://xxxxxxxxxxxxxxx</span><br><span class="line"> * branch              develop    -&gt; FETCH_HEAD</span><br><span class="line"> * [<span class="type">new</span> <span class="type">tag</span>]           CETag      -&gt; CETag</span><br><span class="line">Already up to date.</span><br></pre></td></tr></table></figure>
<p>服务器报错</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">PS D:\work\trun&gt; git fetch --tags -f</span><br><span class="line">warning: ----------------- SECURITY WARNING ----------------</span><br><span class="line">warning: | TLS certificate verification has been disabled! |</span><br><span class="line">warning: ---------------------------------------------------</span><br><span class="line">warning: HTTPS connections may not be secure. See https://aka.ms/gcmcore-tlsverify <span class="keyword">for</span> more information.</span><br><span class="line">warning: ----------------- SECURITY WARNING ----------------</span><br><span class="line">warning: | TLS certificate verification has been disabled! |</span><br><span class="line">warning: ---------------------------------------------------</span><br><span class="line">warning: HTTPS connections may not be secure. See https://aka.ms/gcmcore-tlsverify <span class="keyword">for</span> more information.</span><br></pre></td></tr></table></figure>
<p>git撤销掉本地的commit</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset HEAD~</span><br></pre></td></tr></table></figure>
<p>有时候git的提交我们需要回滚已经在本地提交的东西。可以通过执行。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard &lt;目标提交的哈希值&gt;</span><br><span class="line">git push -f origin &lt;分支名&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Reset current branch to this commit</span><br><span class="line">git push -f origin/develop</span><br><span class="line"></span><br><span class="line">推送指定的远程分支</span><br><span class="line">git push co-origin</span><br><span class="line">查看远程分支</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>reset 模式</p>
<p>git reset –-soft：回退到某个版本，只回退了commit的信息，不会恢复到index file一级。如果还要提交，直接commit即可</p>
<p>这个就是将版本强制定到某个版本，然后强制推送。将会把之前的版本都冲掉。最好将分支备份起来。<br>git reset -–hard：彻底回退到某个版本，本地的源码也会变为上一个版本的内容，撤销的commit中所包含的更改被冲掉</p>
<p>删除分支</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git branch -d develop_pos</span><br><span class="line">Deleted branch develop_pos (was 83fa957c).</span><br><span class="line">$ git push origin --delete develop_pos</span><br><span class="line">remote: . Processing 1 references</span><br><span class="line">remote: Processed 1 references <span class="keyword">in</span> total</span><br><span class="line">http://xxxxx.git</span><br><span class="line"> - [deleted]           develop_pos</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">[2022-09-02T00:22:12.309Z] &gt; git show --textconv :src/user/user.service.ts [1ms]</span><br><span class="line">[2022-09-02T00:22:14.454Z] &gt; git pull --tags origin master [3513ms]</span><br><span class="line">[2022-09-02T00:22:14.454Z] From github.com:TianheOfficial/maas-server-tiny</span><br><span class="line"> * branch            master         -&gt; FETCH_HEAD</span><br><span class="line"> ! [rejected]        release-v1.0.0 -&gt; release-v1.0.0  (would clobber existing tag)</span><br><span class="line"></span><br><span class="line">解决方法：</span><br><span class="line">查看远程 tags ：</span><br><span class="line"></span><br><span class="line">git ls-remote -t</span><br><span class="line">复制</span><br><span class="line">查看本地 tag ：</span><br><span class="line"></span><br><span class="line">git tag -l</span><br><span class="line">复制</span><br><span class="line">删除本地 tag ：</span><br><span class="line"></span><br><span class="line">git tag -d xxx</span><br><span class="line">复制</span><br><span class="line">拉取远程 tags ：</span><br><span class="line"></span><br><span class="line">git fetch origin --prune-tags</span><br><span class="line">复制</span><br><span class="line">扩展：</span><br><span class="line"></span><br><span class="line">删除远程 tags ：</span><br><span class="line"></span><br><span class="line">git push origin --delete tag xxx</span><br></pre></td></tr></table></figure>
<h2 id="git-stash"><a href="#git-stash" class="headerlink" title="git stash"></a>git stash</h2><p>git stash这个命令可以将当前的工作状态保存到git栈，在需要的时候再恢复</p>
<p>1 git stash</p>
<p>保存当前的工作区与暂存区的状态，把当前的工作隐藏起来，等以后需要的时候再恢复，git stash 这个命令可以多次使用，每次使用都会新加一个stash@{num}，num是编号</p>
<p>2 git stash pop</p>
<p>默认恢复git栈中最新的一个stash@{num}，建议在git栈中只有一条的时候使用，以免混乱</p>
<p>3 git stash list</p>
<p>查看所有被隐藏的文件列表</p>
<p>4 git stash apply</p>
<p>恢复被隐藏的文件，但是git栈中的这个不删除，用法：git stash apply stash@{0}，如果我们在git stash apply 的时候工作目录下的文件一部分已经加入了暂存区，部分文件没有，</p>
<p>当我们执行git stash apply之后发现所有的文件都变成了未暂存的，如果想维持原来的样子，即暂存过的依旧是暂存状态，那么可以使用 git stash apply —index</p>
<p>5 git stash drop</p>
<p>删除指定的一个进度，默认删除最新的进度，使用方法如git stash drop stash@{0}</p>
<p>6 git stash clear</p>
<p>删除所有存储的进度</p>
<p>7 git stash show</p>
<p>显示stash的内容具体是什么，使用方法如 git stash show stash@{0}</p>
<p>8 查看帮助</p>
<p>git stash —help</p>
<h2 id="处理嵌套了git的问题"><a href="#处理嵌套了git的问题" class="headerlink" title="处理嵌套了git的问题"></a>处理嵌套了git的问题</h2><p>出现这种问题是由于将一个含有git信息的文件夹放入了公司里面的目录。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Failed to collect changes, error: Error collecting changes <span class="keyword">for</span> VCS repository <span class="string">&#x27;&quot;ServerGit&quot; &#123;instance id=49, parent internal id=11, parent id=id_ServerGit, description: &quot;http://git.xxxx.com/xxxxxx/cx_project.git#refs/heads/develop&quot;&#125;&#x27;</span></span><br><span class="line">Collecting changes failed: jetbrains.buildServer.buildTriggers.vcs.git.submodules.MissingSubmoduleConfigException: The <span class="string">&#x27;http://xxxxxx@git.xxxx.com/xxxxxx/cx_project.git&#x27;</span> repository has a submodule <span class="keyword">in</span> the <span class="string">&#x27;2420d2f10c3c058cb4ccbf485ffee37a3d881ebf&#x27;</span> commit at the <span class="string">&#x27;server/bevtreestatus&#x27;</span> path, but has not .gitmodules configuration <span class="keyword">in</span> the root directory, VCS root: <span class="string">&quot;ServerGit&quot;</span> &#123;instance <span class="built_in">id</span>=49, parent internal <span class="built_in">id</span>=11, parent <span class="built_in">id</span>=id_ServerGit, description: <span class="string">&quot;http://git.xxxx.com/xxxxxx/cx_project.git#refs/heads/develop&quot;</span>&#125;</span><br><span class="line">Failed to collect changes, error: Error collecting changes <span class="keyword">for</span> VCS repository <span class="string">&#x27;&quot;ServerGit&quot; &#123;instance id=49, parent internal id=11, parent id=id_ServerGit, description: &quot;http://git.xxxx.com/xxxxxx/cx_project.git#refs/heads/develop&quot;&#125;&#x27;</span></span><br></pre></td></tr></table></figure>
<h2 id="使用workflow自动发布版本"><a href="#使用workflow自动发布版本" class="headerlink" title="使用workflow自动发布版本"></a>使用workflow自动发布版本</h2><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/liuheng/p/12053244.html">Github Action配置</a></p>
<p><a target="_blank" rel="noopener" href="https://docs.github.com/en/actions/learn-github-actions/understanding-github-actions">Understanding GitHub Actions</a></p>
<p>实例：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># This workflow will do a clean install of node dependencies, build the source code and run tests across different versions of node</span></span><br><span class="line"><span class="comment"># For more information see: https://help.github.com/actions/language-and-framework-guides/using-nodejs-with-github-actions</span></span><br><span class="line"></span><br><span class="line"><span class="attr">name:</span> <span class="string">NewWaterBackendServer</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">push:</span></span><br><span class="line">    <span class="attr">tags:</span></span><br><span class="line">      <span class="comment"># 当有一个tags名字为v*的被push的时候触发</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&#x27;v*&#x27;</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">pull_request:</span></span><br><span class="line">    <span class="attr">branches:</span></span><br><span class="line">      <span class="comment"># push的分支为master才生效</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">master</span></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">build:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">strategy:</span></span><br><span class="line">      <span class="attr">fail-fast:</span> <span class="literal">false</span></span><br><span class="line">      <span class="attr">matrix:</span></span><br><span class="line">        <span class="attr">node-version:</span> [<span class="number">10.</span><span class="string">x</span>]</span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">        <span class="comment"># 先将代码checkout出来</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">checkout</span></span><br><span class="line">          <span class="attr">uses:</span> <span class="string">actions/checkout@v2</span></span><br><span class="line">          <span class="attr">with:</span></span><br><span class="line">              <span class="attr">ref:</span> <span class="string">master</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 通过ssh key登录到远程的一套服务器上，这里面有一些环境变量，可以从 Settings.Secrets.Actions 里面自己配置，其实就是key-&gt;value</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Deploy</span> <span class="string">to</span> <span class="string">dev</span> <span class="string">server</span></span><br><span class="line">          <span class="attr">uses:</span> <span class="string">easingthemes/ssh-deploy@main</span></span><br><span class="line">          <span class="attr">env:</span></span><br><span class="line">            <span class="attr">SSH_PRIVATE_KEY:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.DATA_SSH_KEY</span> <span class="string">&#125;&#125;</span></span><br><span class="line">            <span class="attr">SOURCE:</span> <span class="string">&quot;*&quot;</span></span><br><span class="line">            <span class="attr">REMOTE_HOST:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.DATA_HOST</span> <span class="string">&#125;&#125;</span></span><br><span class="line">            <span class="attr">REMOTE_USER:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.DATA_USER</span> <span class="string">&#125;&#125;</span></span><br><span class="line">            <span class="attr">TARGET:</span> <span class="string">&quot;/mnt/nodeSpace/xxxxxxx/&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 触发在目标机器上执行一个脚本，重启服务器。</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">restart</span></span><br><span class="line">          <span class="attr">uses:</span> <span class="string">appleboy/ssh-action@master</span></span><br><span class="line">          <span class="attr">with:</span></span><br><span class="line">            <span class="attr">host:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.DATA_HOST</span> <span class="string">&#125;&#125;</span></span><br><span class="line">            <span class="attr">username:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.DATA_USER</span> <span class="string">&#125;&#125;</span></span><br><span class="line">            <span class="attr">key:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.DATA_SSH_KEY</span> <span class="string">&#125;&#125;</span></span><br><span class="line">            <span class="attr">port:</span> <span class="number">22</span></span><br><span class="line">            <span class="attr">script:</span> <span class="string">sh</span> <span class="string">/mnt/sh/restart_water_backend_server.sh</span></span><br></pre></td></tr></table></figure>
<h2 id="vscode中设置git技巧"><a href="#vscode中设置git技巧" class="headerlink" title="vscode中设置git技巧"></a>vscode中设置git技巧</h2><p>开启<code>rebase-when-sync</code>好处在于减少merge方式下的线分裂的很厉害的问题。</p>
<p><img src="/2020/11/04/git/git-vscode-setting-rebase-whensync.png" alt="rebase-when-sync"></p>
<p>可以通过<code>git rebase -i HEAD~6</code>最近6次提交合并成一次提交。</p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903600976576519">合并提交详解</a></p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">pick：保留该commit（缩写:<span class="keyword">p</span>）</span><br><span class="line">reword：保留该commit，但我需要修改该commit的注释（缩写:r）</span><br><span class="line"><span class="keyword">edit</span>：保留该commit, 但我要停下来修改该提交(不仅仅修改注释)（缩写:<span class="keyword">e</span>）</span><br><span class="line">squash：将该commit和前一个commit合并（缩写:s）</span><br><span class="line">fixup：将该commit和前一个commit合并，但我不要保留该提交的注释信息（缩写:<span class="keyword">f</span>）</span><br><span class="line">exec：执行<span class="keyword">shell</span>命令（缩写:<span class="keyword">x</span>）</span><br><span class="line"><span class="keyword">drop</span>：我要丢弃该commit（缩写:d）</span><br></pre></td></tr></table></figure>
<p>开启<code>auto-stash</code>，好处在于当发生conflict的时候将会把我们需要保存的东西自动stash起来。防止中间东西丢失。</p>
<p><img src="/2020/11/04/git/git-vscode-setting-auto-stash.png" alt="rebase-when-sync"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 默认merge方式</span></span><br><span class="line"><span class="built_in">sync</span></span><br><span class="line">    git fetch</span><br><span class="line">    git merge</span><br><span class="line">    conflict resolve</span><br><span class="line"><span class="comment"># 使用rebase方式从master到自己开发分支同步一次；</span></span><br><span class="line"><span class="built_in">sync</span></span><br><span class="line">    git fetch</span><br><span class="line">    git rebase</span><br><span class="line">    conflict resolve</span><br><span class="line"><span class="comment"># 增加了auto-stash方式之后的工作方式；</span></span><br><span class="line"><span class="built_in">sync</span></span><br><span class="line">    git fetch</span><br><span class="line">    git stash push</span><br><span class="line">    git rebase</span><br><span class="line">    conflict resolve</span><br><span class="line">    git stash pop</span><br><span class="line">    conflict resolve</span><br></pre></td></tr></table></figure>
<h2 id="检出的时候发生问题"><a href="#检出的时候发生问题" class="headerlink" title="检出的时候发生问题"></a>检出的时候发生问题</h2><p>Decryption has failed</p>
<p>apt install ca-certificates-mono</p>
<p><a target="_blank" rel="noopener" href="https://github.com/duplicati/duplicati/wiki/SSL-TLS-support-in-Mono#generic-debian--ubuntu">https://github.com/duplicati/duplicati/wiki/SSL-TLS-support-in-Mono#generic-debian--ubuntu</a></p>
<p><a target="_blank" rel="noopener" href="https://unix.stackexchange.com/questions/287812/ssh-broken-pipe-message-authentication-code-incorrect">https://unix.stackexchange.com/questions/287812/ssh-broken-pipe-message-authentication-code-incorrect</a></p>
<p><a target="_blank" rel="noopener" href="https://peaku.co/questions/1513-github:-desconexion-inesperada-al-leer-el-paquete-de-banda-lateral">https://peaku.co/questions/1513-github:-desconexion-inesperada-al-leer-el-paquete-de-banda-lateral</a></p>
<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/38378914/how-to-fix-git-error-rpc-failed-curl-56-gnutls">https://stackoverflow.com/questions/38378914/how-to-fix-git-error-rpc-failed-curl-56-gnutls</a></p>
<p><a target="_blank" rel="noopener" href="https://gitlab.com/gitlab-org/cookbook-gitlab/-/issues/33">https://gitlab.com/gitlab-org/cookbook-gitlab/-/issues/33</a></p>
<h2 id="git-rebase"><a href="#git-rebase" class="headerlink" title="git rebase"></a>git rebase</h2><p><a target="_blank" rel="noopener" href="https://git-scm.com/docs/git-rebase">git-rebase官方文档</a></p>
<h2 id="git-trace"><a href="#git-trace" class="headerlink" title="git trace"></a>git trace</h2><p><a target="_blank" rel="noopener" href="https://support.cloudbees.com/hc/en-us/articles/115000618372-How-to-trace-git-connections-">git-trace参考资料</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> GIT_TRACE=1</span><br><span class="line"><span class="variable">$Env</span>:GIT_TRACE=1</span><br><span class="line"><span class="variable">$env</span>:GIT_CURL_VERBOSE=1</span><br></pre></td></tr></table></figure>
<h2 id="git报错"><a href="#git报错" class="headerlink" title="git报错"></a>git报错</h2><p>由于梯子断了造成问题。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git push                                                                                                                                             </span><br><span class="line">kex_exchange_identification: Connection closed by remote host</span><br><span class="line">fatal: Could not <span class="built_in">read</span> from remote repository.</span><br></pre></td></tr></table></figure>
<h2 id="git-submodule"><a href="#git-submodule" class="headerlink" title="git submodule"></a>git submodule</h2><p>使用submodule来管理第三方的库。🐞:fish:</p>
<h2 id="加速访问方式"><a href="#加速访问方式" class="headerlink" title="加速访问方式"></a>加速访问方式</h2><p>推荐一个github下载加速器：<a target="_blank" rel="noopener" href="https://ghproxy.com/">https://ghproxy.com/</a><br>GitHub Proxy<br>GitHub 文件 , Releases , archive , gist , raw.githubusercontent.com 文件代理加速下载服务.</p>
<h2 id="submodules"><a href="#submodules" class="headerlink" title="submodules"></a>submodules</h2><p><a target="_blank" rel="noopener" href="https://www.sitepoint.com/git-submodules-introduction/">Understanding and Working with Submodules in Git</a></p>
<p>添加一个submodule</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git submodule add https://github.com/spencermountain/spacetime.git</span><br></pre></td></tr></table></figure>
<p><code>.gitmodules</code>文件里面写会</p>
<h2 id="在git-clone的时候，指定自己的key，用多个账号"><a href="#在git-clone的时候，指定自己的key，用多个账号" class="headerlink" title="在git clone的时候，指定自己的key，用多个账号"></a>在git clone的时候，指定自己的key，用多个账号</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> git@github.com:xxxx/xxxx.git --config core.sshCommand=<span class="string">&quot;ssh -i ~/.ssh/xxx-user-02/xxx-user-id_rsa&quot;</span></span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/7927750/specify-an-ssh-key-for-git-push-for-a-given-domain">https://stackoverflow.com/questions/7927750/specify-an-ssh-key-for-git-push-for-a-given-domain</a></p>
<p>下面是实践：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># * 这里一定要指定自己的输出目录，否则会出现没有权限的问题。</span></span><br><span class="line">git <span class="built_in">clone</span> git@github.com-yourname:yourname/xxxx.git xxxx/</span><br><span class="line"><span class="comment"># 可以通过，直接便捷一个自己的提交信息。</span></span><br><span class="line">git config -e</span><br><span class="line"><span class="comment"># 在.gitmodules里面可以自己制定url</span></span><br><span class="line">[submodule <span class="string">&quot;source/_posts&quot;</span>]</span><br><span class="line">	path = <span class="built_in">source</span>/_posts</span><br><span class="line">	url = git@github.com-swordhell:swordhell/rawblog.git</span><br><span class="line"><span class="comment"># 找到自己的 ~/.ssh/config，这样就能在mac上使用多个不同的账号，而且互相不干扰。</span></span><br><span class="line">Host github.com-yourname</span><br><span class="line">	HostName github.com</span><br><span class="line">	User git</span><br><span class="line">	IdentityFile ~/.ssh/xxx_key</span><br><span class="line">	IdentitiesOnly <span class="built_in">yes</span></span><br><span class="line"><span class="comment"># 在迁出子目录的时候，需要增加--init</span></span><br><span class="line">git submodule update --init</span><br></pre></td></tr></table></figure>
<h2 id="github-加速网站"><a href="#github-加速网站" class="headerlink" title="github 加速网站"></a>github 加速网站</h2><p><a target="_blank" rel="noopener" href="https://ghproxy.com">github-加速网站</a></p>
<h3 id="Permission-denied-publickey"><a href="#Permission-denied-publickey" class="headerlink" title="Permission denied (publickey)"></a>Permission denied (publickey)</h3><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/helloasimo/article/details/123778112">Permission denied (publickey)</a></p>
<h2 id="ghcr"><a href="#ghcr" class="headerlink" title="ghcr"></a>ghcr</h2><p><a target="_blank" rel="noopener" href="https://github.com/topics/ghcr">ghcr-topic</a></p>
<p>这个是github里面提供的一个私有的镜像服务。可以通过编写 <code>.github/workflows</code>里面的yaml文件，支持当我们推送的时候将一个版本打出来。</p>
<h2 id="提交约定"><a href="#提交约定" class="headerlink" title="提交约定"></a>提交约定</h2><p><a target="_blank" rel="noopener" href="https://github.com/commitizen/conventional-commit-types/tree/v3.0.0">conventional-commit-types</a></p>
<h2 id="切换-git-绝对路径"><a href="#切换-git-绝对路径" class="headerlink" title="切换 git 绝对路径"></a>切换 git 绝对路径</h2><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/Crazy_Tengt/article/details/113561819">https://blog.csdn.net/Crazy_Tengt/article/details/113561819</a></p>
<p>配置git的绝对路径<br><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;git.path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/opt/rh/rh-git218/root/usr/bin/git&quot;</span></span><br></pre></td></tr></table></figure></p>
<h2 id="git推送新版本"><a href="#git推送新版本" class="headerlink" title="git推送新版本"></a>git推送新版本</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">src refspec master does not match any</span><br><span class="line">error: failed to push some refs</span><br></pre></td></tr></table></figure>
<h2 id="git-pull-rebase"><a href="#git-pull-rebase" class="headerlink" title="git-pull-rebase"></a>git-pull-rebase</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">hint: You have divergent branches and need to specify how to reconcile them.</span><br><span class="line">hint: You can <span class="keyword">do</span> so by running one of the following commands sometime before</span><br><span class="line">hint: your next pull:</span><br><span class="line">hint: </span><br><span class="line">hint:   git config pull.rebase <span class="literal">false</span>  <span class="comment"># merge</span></span><br><span class="line">hint:   git config pull.rebase <span class="literal">true</span>   <span class="comment"># rebase</span></span><br><span class="line">hint:   git config pull.ff only       <span class="comment"># fast-forward only</span></span><br><span class="line">hint: </span><br><span class="line">hint: You can replace <span class="string">&quot;git config&quot;</span> with <span class="string">&quot;git config --global&quot;</span> to <span class="built_in">set</span> a default</span><br><span class="line">hint: preference <span class="keyword">for</span> all repositories. You can also pass --rebase, --no-rebase,</span><br><span class="line">hint: or --ff-only on the <span class="built_in">command</span> line to override the configured default per</span><br><span class="line">hint: invocation.</span><br></pre></td></tr></table></figure>
<h3 id="修改历史上的作者信息"><a href="#修改历史上的作者信息" class="headerlink" title="修改历史上的作者信息"></a>修改历史上的作者信息</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">git filter-branch --env-filter <span class="string">&#x27;</span></span><br><span class="line"><span class="string">OLD_EMAIL=&quot;old email@gg.com&quot;</span></span><br><span class="line"><span class="string">CORRECT_NAME=&quot;new name&quot;</span></span><br><span class="line"><span class="string">CORRECT_EMAIL=&quot;new eamail@example.com&quot;</span></span><br><span class="line"><span class="string">if [ &quot;$GIT_COMMITTER_EMAIL&quot; = &quot;$OLD_EMAIL&quot; ]</span></span><br><span class="line"><span class="string">then</span></span><br><span class="line"><span class="string">    export GIT_COMMITTER_NAME=&quot;$CORRECT_NAME&quot;</span></span><br><span class="line"><span class="string">    export GIT_COMMITTER_EMAIL=&quot;$CORRECT_EMAIL&quot;</span></span><br><span class="line"><span class="string">fi</span></span><br><span class="line"><span class="string">if [ &quot;$GIT_AUTHOR_EMAIL&quot; = &quot;$OLD_EMAIL&quot; ]</span></span><br><span class="line"><span class="string">then</span></span><br><span class="line"><span class="string">    export GIT_AUTHOR_NAME=&quot;$CORRECT_NAME&quot;</span></span><br><span class="line"><span class="string">    export GIT_AUTHOR_EMAIL=&quot;$CORRECT_EMAIL&quot;</span></span><br><span class="line"><span class="string">fi</span></span><br><span class="line"><span class="string">&#x27;</span> --tag-name-filter <span class="built_in">cat</span> -- --branches --tags</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_39190382/article/details/130627349">原文</a></p>
<h3 id="git-large-file-storage"><a href="#git-large-file-storage" class="headerlink" title="git large file storage"></a>git large file storage</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">brew install git-lfs</span><br><span class="line">git lfs install </span><br><span class="line">git lfs install --system</span><br></pre></td></tr></table></figure>
<h3 id="git-remote-main"><a href="#git-remote-main" class="headerlink" title="git remote main"></a>git remote main</h3><p>发现在 gitLab 里面的远程没有 ref/HEAD 造成了一些麻烦，通过这个指令就能指定。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote set-head origin main</span><br></pre></td></tr></table></figure>
<p>不过最后还是找到了网站里面，可以通过web页面来设定远程的主干分支。</p>
<h3 id="git-push报错"><a href="#git-push报错" class="headerlink" title="git push报错"></a>git push报错</h3><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_41035283/article/details/124058657">https://blog.csdn.net/qq_41035283/article/details/124058657</a></p>
<p>server certificate verification failed</p>
<p>git config —global http.sslverify false</p>
<h3 id="删除掉git的缓存"><a href="#删除掉git的缓存" class="headerlink" title="删除掉git的缓存"></a>删除掉git的缓存</h3><p>如果这些目录或文件已经被追踪，你需要从 Git 历史记录中删除它们，并更新工作目录：</p>
<h1 id="清理追踪的文件"><a href="#清理追踪的文件" class="headerlink" title="清理追踪的文件"></a>清理追踪的文件</h1><p>git rm -r —cached _build<br>git rm -r —cached apps<br>git rm -r —cached deps<br>git rm -r —cached logs</p>
<h2 id="如何将git中的内容导出来"><a href="#如何将git中的内容导出来" class="headerlink" title="如何将git中的内容导出来"></a>如何将git中的内容导出来</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git archive --format=zip --output=/path/to/destination/archive.zip master</span><br></pre></td></tr></table></figure>
<h1 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h1><p><a target="_blank" rel="noopener" href="https://github.com/commitizen/conventional-commit-types/tree/v3.0.0">conventional-commit-types</a></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;types&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;feat&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;A new feature&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Features&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;fix&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;A bug fix&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Bug Fixes&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;docs&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Documentation only changes&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Documentation&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;style&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Changes that do not affect the meaning of the code (white-space, formatting, missing semi-colons, etc)&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Styles&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;refactor&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;A code change that neither fixes a bug nor adds a feature&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Code Refactoring&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;perf&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;A code change that improves performance&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Performance Improvements&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;test&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Adding missing tests or correcting existing tests&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Tests&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;build&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Changes that affect the build system or external dependencies (example scopes: gulp, broccoli, npm)&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Builds&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;ci&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Changes to our CI configuration files and scripts (example scopes: Travis, Circle, BrowserStack, SauceLabs)&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Continuous Integrations&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;chore&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Other changes that don&#x27;t modify src or test files&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Chores&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;revert&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Reverts a previous commit&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Reverts&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<p>在 Gogs 中，可以通过修改配置文件来设置上传文件的大小限制。具体步骤如下：</p>
<p>步骤 1: 找到 Gogs 的配置文件</p>
<p>Gogs 的配置文件通常位于安装目录的 custom/conf/app.ini 路径下。如果你没有找到 custom/conf/app.ini，也可以查看 conf/app.ini 文件。</p>
<p>步骤 2: 修改配置文件</p>
<p>打开 app.ini 文件，找到与文件上传相关的配置。Gogs 使用 HTTP 模块来管理文件上传，相关的配置项是 MAX_UPLOAD_SIZE，它控制上传文件的大小限制。</p>
<p>[attachment]<br>MAX_SIZE = 32</p>
<pre><code>•    MAX_SIZE 的单位是 MB，默认值可能是 32（即 32MB）。
•    将 MAX_SIZE 改为你想允许的最大文件大小，比如 100MB：
</code></pre><p>[attachment]<br>MAX_SIZE = 100</p>
<p>步骤 3: 重启 Gogs 服务</p>
<p>修改配置文件后，需要重启 Gogs 服务使配置生效。你可以通过以下命令重启 Gogs（假设你是通过 systemd 管理 Gogs 服务）：</p>
<p>sudo systemctl restart gogs</p>
<p>或者，如果你是以手动方式启动的 Gogs，可以停止并重新启动 Gogs：</p>
<h1 id="停止-Gogs"><a href="#停止-Gogs" class="headerlink" title="停止 Gogs"></a>停止 Gogs</h1><p>pkill gogs</p>
<h1 id="启动-Gogs"><a href="#启动-Gogs" class="headerlink" title="启动 Gogs"></a>启动 Gogs</h1><p>/path/to/gogs web</p>
<p>步骤 4: 验证修改</p>
<p>重启 Gogs 之后，你可以尝试上传文件，确保新的文件大小限制生效。</p>
<p>这样设置之后，你就可以通过 Gogs 上传更大（或更小）的文件了。<br>如果你想临时回滚到某个特定的 commit（hash），有几种方法可以选择，取决于你的需求：</p>
<ol>
<li>仅临时回滚（不修改历史记录）</li>
</ol>
<p>如果你只是想暂时回到某个 commit，但不修改 Git 历史，可以使用 git checkout 或 git switch：</p>
<p>git checkout <commit-hash></commit-hash></p>
<h1 id="或者"><a href="#或者" class="headerlink" title="或者"></a>或者</h1><p>git switch —detach <commit-hash></commit-hash></p>
<pre><code>效果：
    •    这样你会进入 detached HEAD 状态，可以查看这个 commit 的代码，但不会影响你的分支。
•    这不会修改历史记录，也不会影响当前分支。
•    如果需要回到原来的分支，可以使用 git checkout &lt;branch-name&gt; 或 git switch &lt;branch-name&gt;。
</code></pre><ol>
<li>临时回滚并允许修改（软回滚）</li>
</ol>
<p>如果你想回滚到某个 commit 但保留修改的代码（比如回滚后再做一些新修改），可以用 git reset —soft：</p>
<p>git reset —soft <commit-hash></commit-hash></p>
<pre><code>效果：
    •    HEAD 移动到 &lt;commit-hash&gt;，但你的文件和 staged 变更都不会丢失。
•    适用于想修改代码但不影响 commit 记录的情况。
</code></pre><ol>
<li>回滚并清除修改（硬回滚）</li>
</ol>
<p>如果你想回滚到某个 commit，并且完全丢弃当前的修改（包括未提交的和已提交的）：</p>
<p>git reset —hard <commit-hash></commit-hash></p>
<pre><code>⚠️ 注意：
    •    所有未提交的更改都会丢失！
•    无法恢复，除非之前有 git stash 或 git reflog。
•    适用于彻底回滚到某个 commit，不留任何当前更改。
</code></pre><ol>
<li>回滚到某个 commit 并创建新分支</li>
</ol>
<p>如果你想回滚到某个 commit，并基于它创建一个新分支（不影响原分支）：</p>
<p>git checkout -b <new-branch-name> <commit-hash></commit-hash></new-branch-name></p>
<h1 id="或者-1"><a href="#或者-1" class="headerlink" title="或者"></a>或者</h1><p>git switch -c <new-branch-name> <commit-hash></commit-hash></new-branch-name></p>
<pre><code>效果：
    •    你的代码会回到 &lt;commit-hash&gt;，但不会影响原来的分支。
•    适用于想在历史 commit 上重新开发，但不影响当前分支的情况。
</code></pre><p>总结</p>
<p>命令    作用    是否影响历史<br>git checkout <commit-hash> 或 git switch —detach <commit-hash>    仅查看旧版本    否<br>git reset —soft <commit-hash>    回滚 commit，但保留文件    否<br>git reset —hard <commit-hash>    回滚 commit，删除所有修改    是<br>git checkout -b <new-branch> <commit-hash>    基于旧 commit 创建新分支    否</commit-hash></new-branch></commit-hash></commit-hash></commit-hash></commit-hash></p>
<p>如果只是临时回滚查看代码，推荐 git checkout <commit-hash>，之后 git checkout main 即可回到最新代码！🚀</commit-hash></p>
<p>git checkout -b m 388a25291f9a182a23c0558293028cf6987991bc</p>
<h2 id="不能推送大的项目问题"><a href="#不能推送大的项目问题" class="headerlink" title="不能推送大的项目问题"></a>不能推送大的项目问题</h2><ol>
<li>我搭建了一个gogs的仓库；使用了cloudflare和nginx来做的域名；</li>
<li>当客户端同事推送git仓库的时候，无法推送成功将会卡住，并且出现下面的报错；<br>Writing objects: 100% (10141/10141), 131.04 MiB | 500.69 MiB/s, done.<br>Total 10141 (delta 2793), reused 10136 (delta 2791), pack-reused 0<br>error: RPC failed; HTTP 413 curl 22 The requested URL returned error: 413<br>send-pack: unexpected disconnect while reading sideband packet<br>fatal: the remote end hung up unexpectedly<br>Everything up-to-date</li>
<li>我让客户端同事将项目打包，我直接放到gogs服务器机器本地，使用<a target="_blank" rel="noopener" href="http://127.0.0.1推送，是能迅速提送成功；">http://127.0.0.1推送，是能迅速提送成功；</a></li>
<li>当前gogs的app.ini配置里面我添加下面配置，已经重启；<br>[server]<br>MAX_REQUEST_BODY_SIZE = 0</li>
<li>在nginx里面我添加了下面的配置，已经重启；<br>server {<br>client_max_body_size 800m;<br>client_body_buffer_size 128k;<br>fastcgi_intercept_errors on;<br>}</li>
<li>现在问题是为啥会出现无法通过域名，远程推送，而老是会爆出 hung up的问题；</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看 Gogs 当前生效配置</span></span><br><span class="line">curl -s http://localhost:3000/api/v1/settings | jq .repository.file_upload_max_size</span><br><span class="line"></span><br><span class="line"><span class="comment"># 预期输出（假设设置为1024）：</span></span><br><span class="line"><span class="comment"># 1048576  # 单位是字节（1024MB = 1073741824字节，此处可能显示计算后的值）</span></span><br></pre></td></tr></table></figure>
<p>你的问题很可能是 Nginx 仍然限制了 HTTP 请求体的大小，即使你已经设置了 client_max_body_size 800m，也可能还有其他地方影响，比如：</p>
<p>可能的原因与解决方案</p>
<ol>
<li>确保 Nginx 的 client_max_body_size 设置生效</li>
</ol>
<p>在 正确的 server 或 location 配置块中 添加：</p>
<p>server {<br>    listen 80;<br>    server_name your.domain.com;</p>
<pre><code>client_max_body_size 800m;
client_body_buffer_size 128k;

location / &#123;
    proxy_pass http://127.0.0.1:3000;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header Host $host;
    proxy_buffering off;
&#125;
</code></pre><p>}</p>
<p>然后 重启 Nginx 并查看是否生效：</p>
<p>nginx -t  # 检查配置是否正确<br>systemctl restart nginx  # 重启 Nginx</p>
<p>如果是 Docker 运行的 Nginx，可能还需要 docker restart nginx。</p>
<ol>
<li>确保 Gogs 的 MAX_REQUEST_BODY_SIZE 设置生效</li>
</ol>
<p>你已经在 app.ini 中添加了：</p>
<p>[server]<br>MAX_REQUEST_BODY_SIZE = 0</p>
<p>但 Gogs 可能 仍然默认使用 32MB 的限制，你可以 尝试明确设置为更大的值：</p>
<p>[server]<br>MAX_REQUEST_BODY_SIZE = 800</p>
<p>然后重启 Gogs：</p>
<p>systemctl restart gogs  # 如果是 systemd 方式<br>supervisorctl restart gogs  # 如果用的是 Supervisor</p>
<ol>
<li>Cloudflare 可能拦截大文件上传</li>
</ol>
<p>Cloudflare 免费版的 最大文件上传限制是 100MB，如果你的 Git push 超过了这个大小，Cloudflare 可能会返回 413 Request Entity Too Large。</p>
<p>解决方案<br>    •    方法 1：直接绕过 Cloudflare，使用 “直接 IP + Nginx” 的方式推送：</p>
<p>git remote set-url origin <a target="_blank" rel="noopener" href="http://your-server-ip:3000/your-repo.git">http://your-server-ip:3000/your-repo.git</a><br>git push origin main</p>
<p>如果这样可以推送，说明 Cloudflare 限制了文件大小。</p>
<pre><code>•    方法 2：如果你使用 Cloudflare Pro 版或更高级别，可以进入 Cloudflare Dashboard：
1.    选择你的域名。
2.    进入 Network 设置，找到 Maximum Upload Size 并调大。
3.    在 Caching 选项中关闭 Cache Everything，让大文件不被缓存。
•    方法 3：使用 Cloudflare “grey-cloud” 直连模式（绕过 CDN）：
1.    进入 Cloudflare Dashboard。
2.    找到你的 Gogs 绑定的域名。
3.    把 Proxy Status 从 Proxied (Orange Cloud) 改为 DNS Only (Grey Cloud)。
</code></pre><ol>
<li>增加 Nginx 超时配置</li>
</ol>
<p>如果 网络环境不稳定 或者 Gogs 处理数据较慢，可能导致 超时 断开连接。可以增加 Nginx 的超时时间：</p>
<p>server {<br>    client_max_body_size 800m;<br>    client_body_buffer_size 512k;</p>
<pre><code>location / &#123;
    proxy_pass http://127.0.0.1:3000;
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;

    # 防止长时间推送导致超时
    proxy_connect_timeout 600;
    proxy_send_timeout 600;
    proxy_read_timeout 600;
    send_timeout 600;
&#125;
</code></pre><p>}</p>
<p>然后重启 Nginx：</p>
<p>systemctl restart nginx</p>
<p>⸻</p>
<p>总结</p>
<p>你的问题很可能是 Cloudflare 限制 或 Nginx 配置未生效：</p>
<pre><code>1.    先 尝试用 IP 直连 (http://your-server-ip:3000/your-repo.git)，看看能否推送成功。
2.    如果 IP 直连成功，而域名不行，说明 Cloudflare 限制，可以：
•    关掉 Cloudflare Proxy（改成 DNS Only）。
•    或者 升级 Cloudflare 计划 来增加上传限制。
3.    确保 Nginx 的 client_max_body_size 和超时配置生效：
</code></pre><p>nginx -t &amp;&amp; systemctl restart nginx</p>
<pre><code>4.    确保 Gogs MAX_REQUEST_BODY_SIZE 不是 0，而是 800MB 以上。
</code></pre><p>试试这些方案，看看哪一步解决了问题！🚀</p>
<p>sudo nginx -T | grep -C 10 “client_max_body_size”</p>
<p>在客户端执行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 清除旧配置</span></span><br><span class="line">git config --global --<span class="built_in">unset</span> http.postBuffer</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置缓冲区为 200MB (必须大于推送文件大小)</span></span><br><span class="line">git config --global http.postBuffer 209715200</span><br><span class="line"></span><br><span class="line"><span class="comment"># 测试时添加详细日志</span></span><br><span class="line">GIT_CURL_VERBOSE=1 GIT_TRACE=1 git push --all origin</span><br></pre></td></tr></table></figure>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">443</span> ssl;</span><br><span class="line">    <span class="attribute">server_name</span> your-domain.com;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">client_max_body_size</span> <span class="number">1024m</span>;  <span class="comment"># 关键参数</span></span><br><span class="line">    <span class="attribute">client_body_buffer_size</span> <span class="number">1m</span>;</span><br><span class="line">    <span class="attribute">client_body_timeout</span> <span class="number">300s</span>;</span><br><span class="line"></span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="attribute">proxy_pass</span> http://127.0.0.1:3000;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line">        <span class="attribute">proxy_read_timeout</span> <span class="number">600s</span>;  <span class="comment"># 增加超时时间</span></span><br><span class="line">        <span class="attribute">proxy_request_buffering</span> <span class="literal">off</span>;  <span class="comment"># 禁用缓冲提升大文件性能</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>app.ini</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[repository]</span></span><br><span class="line"><span class="attr">FILE_UPLOAD_MAX_SIZE</span> = <span class="number">2048</span>  <span class="comment"># 单位 MB，建议为 Nginx 值的 2 倍</span></span><br><span class="line"></span><br><span class="line"><span class="section">[server]</span></span><br><span class="line"><span class="attr">HTTP_POST_BUFFER_SIZE</span> = <span class="number">209715200</span>  <span class="comment"># 200MB 缓冲区</span></span><br></pre></td></tr></table></figure>
<p>sudo systemctl restart nginx gogs</p>
<p>在 Gogs 中，你可以通过修改 app.ini 配置文件来调整 日志级别 和 日志文件大小管理。</p>
<p>⸻</p>
<ol>
<li>调整 Gogs 日志级别</li>
</ol>
<p>Gogs 的日志级别可以在 app.ini 文件的 [log] 配置部分进行修改：</p>
<p>步骤</p>
<pre><code>1.    打开 app.ini 配置文件（默认路径：/path/to/gogs/custom/conf/app.ini）
</code></pre><p>nano /path/to/gogs/custom/conf/app.ini</p>
<pre><code>2.    修改日志级别
</code></pre><p>在 [log] 部分，设置 更详细的日志级别：</p>
<p>[log]<br>MODE      = file<br>LEVEL     = debug<br>ROOT_PATH = /var/log/gogs</p>
<pre><code>•    MODE：
•    console  —— 直接输出到终端
•    file  —— 记录到日志文件
•    console, file  —— 同时输出到终端和日志文件
•    LEVEL：
•    trace  —— 最高级别，输出所有日志（最详细）
•    debug  —— 调试信息
•    info  —— 重要的正常日志（默认）
•    warn  —— 仅警告
•    error  —— 仅错误信息
•    critical  —— 仅严重错误

3.    重启 Gogs 使配置生效：
</code></pre><p>systemctl restart gogs  # 如果使用 systemd<br>supervisorctl restart gogs  # 如果使用 Supervisor</p>
<p>⸻</p>
<ol>
<li>控制日志文件大小</li>
</ol>
<p>为了避免日志文件过大，可以使用 logrotate 来管理 Gogs 的日志。</p>
<p>方法 1：Gogs 内置日志切割</p>
<p>从 Gogs 0.12.0 版本开始，支持 DAILY_ROTATE 配置：</p>
<p>[log]<br>MODE      = file<br>LEVEL     = info<br>ROOT_PATH = /var/log/gogs<br>DAILY_ROTATE = true  # 每天生成一个新的日志文件<br>MAX_DAYS = 7  # 只保留最近 7 天的日志</p>
<p>这会让 Gogs 每天 生成一个新日志，并自动删除超过 7 天的旧日志。</p>
<p>⸻</p>
<p>方法 2：使用 logrotate 自动管理日志</p>
<p>如果你使用的是 较老版本的 Gogs，或者希望更灵活地管理日志，可以用 logrotate 进行日志切割。</p>
<p>步骤</p>
<pre><code>1.    创建 Logrotate 配置文件
</code></pre><p>sudo nano /etc/logrotate.d/gogs</p>
<pre><code>2.    添加如下配置
</code></pre><p>/var/log/gogs/*.log {<br>    daily<br>    rotate 7<br>    compress<br>    missingok<br>    notifempty<br>    copytruncate<br>}</p>
<pre><code>•    daily  —— 每天轮转日志
•    rotate 7  —— 只保留最近 7 份日志
•    compress  —— 使用 gzip 压缩老的日志
•    missingok  —— 如果日志文件不存在，则跳过，不报错
•    notifempty  —— 如果日志为空，则不进行轮转
•    copytruncate  —— 先复制日志再清空原始文件（适用于 Gogs 正在写入的日志）

3.    测试 logrotate
</code></pre><p>sudo logrotate -d /etc/logrotate.d/gogs</p>
<p>如果没有错误，就可以手动执行：</p>
<p>sudo logrotate -f /etc/logrotate.d/gogs</p>
<p>⸻</p>
<ol>
<li>观察日志</li>
</ol>
<p>可以使用以下命令查看日志：</p>
<p>tail -f /var/log/gogs/gogs.log</p>
<p>如果启用了 debug 级别，可以看到更详细的日志。</p>
<p>⸻</p>
<p>总结</p>
<p>✅ 调整日志级别<br>    •    LEVEL = debug（调试） 或 LEVEL = trace（最详细）<br>    •    重启 Gogs 使生效</p>
<p>✅ 限制日志大小<br>    •    方法 1：Gogs 自带 DAILY_ROTATE = true（推荐）<br>    •    方法 2：logrotate（适用于所有版本）</p>
<p>这样可以 获得详细日志，同时 避免日志过大 🚀</p>
<p><a target="_blank" rel="noopener" href="https://github.com/gogs/gogs/blob/v0.13.0/conf/app.ini">https://github.com/gogs/gogs/blob/v0.13.0/conf/app.ini</a></p>
<ol>
<li>设置环境变量 GOPRIVATE</li>
</ol>
<p>告诉 Go 哪些路径是“私有的”，不要走 proxy/sum：</p>
<p>export GOPRIVATE=gitspace.myco.io</p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul>
<li>[1] <a target="_blank" rel="noopener" href="https://www.runoob.com/git/git-tutorial.html">Git菜鸟教程</a></li>
<li>[2] <a target="_blank" rel="noopener" href="https://www.liaoxuefeng.com/wiki/896043488029600">廖雪峰-Git教程</a></li>
<li>[3] <a target="_blank" rel="noopener" href="https://git-scm.com/book/zh/v2">官网手册</a></li>
<li>[4] <a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/58031165/how-to-get-rid-of-would-clobber-existing-tag">clobber-existing-tag</a></li>
<li>[5] <a target="_blank" rel="noopener" href="https://www.zhihu.com/question/38305012">git pull 和 git fetch的区别？</a></li>
<li>[6] <a target="_blank" rel="noopener" href="https://www.cnblogs.com/qianqiannian/p/6011513.html">Git-stash常用</a></li>
</ul>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/git/" rel="tag"># git</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/11/03/docker%5B0%5D-nginx/" rel="prev" title="docker运行nginx">
      <i class="fa fa-chevron-left"></i> docker运行nginx
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/11/04/Redis-%E4%B9%90%E8%A7%82%E9%94%81/" rel="next" title="Redis-乐观锁">
      Redis-乐观锁 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="gitalk-container"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85"><span class="nav-number">1.</span> <span class="nav-text">安装</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Linux"><span class="nav-number">1.1.</span> <span class="nav-text">Linux</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B"><span class="nav-number">2.</span> <span class="nav-text">工作流程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A6%82%E5%BF%B5"><span class="nav-number">2.1.</span> <span class="nav-text">概念</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B7%A5%E4%BD%9C%E5%8C%BA%E6%93%8D%E4%BD%9C"><span class="nav-number">2.2.</span> <span class="nav-text">工作区操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%9C%E7%A8%8B%E6%93%8D%E4%BD%9C"><span class="nav-number">2.3.</span> <span class="nav-text">远程操作</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%86%E6%94%AF%E7%AE%A1%E7%90%86"><span class="nav-number">2.3.1.</span> <span class="nav-text">分支管理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%87%E6%8D%A2%E7%BC%96%E8%BE%91%E5%99%A8"><span class="nav-number">2.3.2.</span> <span class="nav-text">切换编辑器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%86%E6%94%AF%E5%90%88%E5%B9%B6"><span class="nav-number">2.3.3.</span> <span class="nav-text">分支合并</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E8%BF%9C%E7%A8%8B%E7%9A%84url%E5%9C%B0%E5%9D%80"><span class="nav-number">2.3.4.</span> <span class="nav-text">查看远程的url地址</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#git-%E4%BF%AE%E6%94%B9%E8%BF%9C%E7%A8%8B%E7%9A%84%E7%9B%AE%E5%BD%95"><span class="nav-number">3.</span> <span class="nav-text">git 修改远程的目录</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#git%E8%BD%AC%E6%8D%A2%E6%8D%A2%E8%A1%8C%E7%AC%A6%EF%BC%88%E5%9B%9E%E8%BD%A6%EF%BC%89"><span class="nav-number">4.</span> <span class="nav-text">git转换换行符（回车）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#tags%E5%86%B2%E7%AA%81"><span class="nav-number">5.</span> <span class="nav-text">tags冲突</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#git-stash"><span class="nav-number">6.</span> <span class="nav-text">git stash</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%84%E7%90%86%E5%B5%8C%E5%A5%97%E4%BA%86git%E7%9A%84%E9%97%AE%E9%A2%98"><span class="nav-number">7.</span> <span class="nav-text">处理嵌套了git的问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8workflow%E8%87%AA%E5%8A%A8%E5%8F%91%E5%B8%83%E7%89%88%E6%9C%AC"><span class="nav-number">8.</span> <span class="nav-text">使用workflow自动发布版本</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vscode%E4%B8%AD%E8%AE%BE%E7%BD%AEgit%E6%8A%80%E5%B7%A7"><span class="nav-number">9.</span> <span class="nav-text">vscode中设置git技巧</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A3%80%E5%87%BA%E7%9A%84%E6%97%B6%E5%80%99%E5%8F%91%E7%94%9F%E9%97%AE%E9%A2%98"><span class="nav-number">10.</span> <span class="nav-text">检出的时候发生问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#git-rebase"><span class="nav-number">11.</span> <span class="nav-text">git rebase</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#git-trace"><span class="nav-number">12.</span> <span class="nav-text">git trace</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#git%E6%8A%A5%E9%94%99"><span class="nav-number">13.</span> <span class="nav-text">git报错</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#git-submodule"><span class="nav-number">14.</span> <span class="nav-text">git submodule</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8A%A0%E9%80%9F%E8%AE%BF%E9%97%AE%E6%96%B9%E5%BC%8F"><span class="nav-number">15.</span> <span class="nav-text">加速访问方式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#submodules"><span class="nav-number">16.</span> <span class="nav-text">submodules</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9C%A8git-clone%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E6%8C%87%E5%AE%9A%E8%87%AA%E5%B7%B1%E7%9A%84key%EF%BC%8C%E7%94%A8%E5%A4%9A%E4%B8%AA%E8%B4%A6%E5%8F%B7"><span class="nav-number">17.</span> <span class="nav-text">在git clone的时候，指定自己的key，用多个账号</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#github-%E5%8A%A0%E9%80%9F%E7%BD%91%E7%AB%99"><span class="nav-number">18.</span> <span class="nav-text">github 加速网站</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Permission-denied-publickey"><span class="nav-number">18.1.</span> <span class="nav-text">Permission denied (publickey)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ghcr"><span class="nav-number">19.</span> <span class="nav-text">ghcr</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8F%90%E4%BA%A4%E7%BA%A6%E5%AE%9A"><span class="nav-number">20.</span> <span class="nav-text">提交约定</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%87%E6%8D%A2-git-%E7%BB%9D%E5%AF%B9%E8%B7%AF%E5%BE%84"><span class="nav-number">21.</span> <span class="nav-text">切换 git 绝对路径</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#git%E6%8E%A8%E9%80%81%E6%96%B0%E7%89%88%E6%9C%AC"><span class="nav-number">22.</span> <span class="nav-text">git推送新版本</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#git-pull-rebase"><span class="nav-number">23.</span> <span class="nav-text">git-pull-rebase</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E5%8E%86%E5%8F%B2%E4%B8%8A%E7%9A%84%E4%BD%9C%E8%80%85%E4%BF%A1%E6%81%AF"><span class="nav-number">23.1.</span> <span class="nav-text">修改历史上的作者信息</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#git-large-file-storage"><span class="nav-number">23.2.</span> <span class="nav-text">git large file storage</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#git-remote-main"><span class="nav-number">23.3.</span> <span class="nav-text">git remote main</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#git-push%E6%8A%A5%E9%94%99"><span class="nav-number">23.4.</span> <span class="nav-text">git push报错</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E6%8E%89git%E7%9A%84%E7%BC%93%E5%AD%98"><span class="nav-number">23.5.</span> <span class="nav-text">删除掉git的缓存</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%B8%85%E7%90%86%E8%BF%BD%E8%B8%AA%E7%9A%84%E6%96%87%E4%BB%B6"><span class="nav-number"></span> <span class="nav-text">清理追踪的文件</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E5%B0%86git%E4%B8%AD%E7%9A%84%E5%86%85%E5%AE%B9%E5%AF%BC%E5%87%BA%E6%9D%A5"><span class="nav-number">1.</span> <span class="nav-text">如何将git中的内容导出来</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A6%82%E8%BF%B0"><span class="nav-number"></span> <span class="nav-text">概述</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%81%9C%E6%AD%A2-Gogs"><span class="nav-number"></span> <span class="nav-text">停止 Gogs</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%90%AF%E5%8A%A8-Gogs"><span class="nav-number"></span> <span class="nav-text">启动 Gogs</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%88%96%E8%80%85"><span class="nav-number"></span> <span class="nav-text">或者</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%88%96%E8%80%85-1"><span class="nav-number"></span> <span class="nav-text">或者</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%8D%E8%83%BD%E6%8E%A8%E9%80%81%E5%A4%A7%E7%9A%84%E9%A1%B9%E7%9B%AE%E9%97%AE%E9%A2%98"><span class="nav-number">1.</span> <span class="nav-text">不能推送大的项目问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%82%E8%80%83"><span class="nav-number">2.</span> <span class="nav-text">参考</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Abel Sean"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">Abel Sean</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">144</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">40</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">46</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      友情链接
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="http://blog.csdn.net/erlang_hell" title="http:&#x2F;&#x2F;blog.csdn.net&#x2F;erlang_hell" rel="noopener" target="_blank">我的csdn-blog</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://dengwenyi88.github.io/" title="https:&#x2F;&#x2F;dengwenyi88.github.io&#x2F;" rel="noopener" target="_blank">dwy-blog</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://unity3d.io/" title="https:&#x2F;&#x2F;unity3d.io" rel="noopener" target="_blank">蔡总-blog</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Abel Sean</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css">

<script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : 'b08c5201a4a52badc863',
      clientSecret: 'dd2c48988eb499969198746dae8ec2c7ccbad00b',
      repo        : 'BlogComment',
      owner       : 'swordhell',
      admin       : ['swordhell'],
      id          : 'ac009d2dcf3970db28bd782f68884ee0',
        language: 'zh-CN',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script>

</body>
</html>
